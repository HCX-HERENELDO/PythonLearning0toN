#!/usr/bin/env python
# -*- coding: utf-8 -*-
"""
============================================================================
æ¨¡å—åç§°ï¼šå…ƒç»„
å­¦ä¹ ç›®æ ‡ï¼šæŒæ¡å…ƒç»„çš„ç‰¹ç‚¹å’Œä½¿ç”¨åœºæ™¯
PyCharm æŠ€å·§ï¼šå­¦ä¹ æŸ¥çœ‹å¯¹è±¡çš„å†…å­˜åœ°å€
============================================================================
"""

# ============================================================================
# ç¬¬ä¸€éƒ¨åˆ†ï¼šå…ƒç»„åŸºç¡€
# ============================================================================
"""
ã€æ¦‚å¿µè®²è§£ã€‘
å…ƒç»„ï¼ˆTupleï¼‰æ˜¯ä¸€ä¸ªæœ‰åºçš„ä¸å¯å˜åºåˆ—ã€‚
ä¸åˆ—è¡¨ç±»ä¼¼ï¼Œä½†ä¸€æ—¦åˆ›å»ºå°±ä¸èƒ½ä¿®æ”¹ï¼ˆä¸å¯å˜ï¼‰ã€‚
å…ƒç»„é€šå¸¸ç”¨äºå­˜å‚¨ä¸åº”è¢«æ”¹å˜çš„æ•°æ®ã€‚
"""

# ----------------------------------------------------------------------------
# åˆ›å»ºå…ƒç»„
# ----------------------------------------------------------------------------

# ç›´æ¥åˆ›å»º
coordinates = (3, 4)
rgb = (255, 128, 0)
single = (42,)  # å•å…ƒç´ å…ƒç»„å¿…é¡»åŠ é€—å·ï¼

# ä¸åŠ æ‹¬å·ä¹Ÿå¯ä»¥ï¼ˆå…ƒç»„æ‰“åŒ…ï¼‰
point = 3, 4
print(f"ç±»å‹: {type(point)}")  # <class 'tuple'>

# ç©ºå…ƒç»„
empty1 = ()
empty2 = tuple()

# ä½¿ç”¨ tuple() å‡½æ•°
from_list = tuple([1, 2, 3])
from_string = tuple("Python")

print(f"ä»åˆ—è¡¨åˆ›å»º: {from_list}")
print(f"ä»å­—ç¬¦ä¸²åˆ›å»º: {from_string}")

# ã€PyCharm æŠ€å·§ã€‘
# ä½¿ç”¨ id() å‡½æ•°å¯ä»¥æŸ¥çœ‹å¯¹è±¡çš„å†…å­˜åœ°å€
a = (1, 2, 3)
print(f"å…ƒç»„ id: {id(a)}")

# ----------------------------------------------------------------------------
# å…ƒç»„ç´¢å¼•å’Œåˆ‡ç‰‡
# ----------------------------------------------------------------------------

t = ("è‹¹æœ", "é¦™è•‰", "æ©™å­", "è‘¡è„")

# ç´¢å¼•ï¼ˆä¸åˆ—è¡¨ç›¸åŒï¼‰
print(f"ç¬¬ä¸€ä¸ª: {t[0]}")
print(f"æœ€åä¸€ä¸ª: {t[-1]}")

# åˆ‡ç‰‡
print(f"[1:3]: {t[1:3]}")
print(f"[::-1]: {t[::-1]}")

# ============================================================================
# ç¬¬äºŒéƒ¨åˆ†ï¼šå…ƒç»„çš„ç‰¹ç‚¹
# ============================================================================

# ----------------------------------------------------------------------------
# ä¸å¯å˜æ€§
# ----------------------------------------------------------------------------

t = (1, 2, 3)

# ä¸èƒ½ä¿®æ”¹å…ƒç´ 
# t[0] = 10  # TypeError: 'tuple' object does not support item assignment

# ä¸èƒ½æ·»åŠ å…ƒç´ 
# t.append(4)  # AttributeError

# ä¸èƒ½åˆ é™¤å…ƒç´ 
# del t[0]  # TypeError

# ä½†æ˜¯å¯ä»¥é‡æ–°èµ‹å€¼æ•´ä¸ªå…ƒç»„
t = (4, 5, 6)  # è¿™æ˜¯åˆ›å»ºæ–°å…ƒç»„ï¼Œä¸æ˜¯ä¿®æ”¹
print(f"æ–°å…ƒç»„: {t}")

# ----------------------------------------------------------------------------
# ä¸å¯å˜çš„"ä¾‹å¤–"ï¼šåŒ…å«å¯å˜å…ƒç´ 
# ----------------------------------------------------------------------------

# å…ƒç»„åŒ…å«åˆ—è¡¨æ—¶ï¼Œåˆ—è¡¨å¯ä»¥ä¿®æ”¹
t = (1, 2, [3, 4])
print(f"åŸå§‹å…ƒç»„: {t}")

t[2].append(5)  # å¯ä»¥ä¿®æ”¹åˆ—è¡¨
print(f"ä¿®æ”¹å: {t}")

# t[2] = [7, 8]  # è¿™ä¸è¡Œï¼Œä¸èƒ½æ›¿æ¢å…ƒç´ 

# ============================================================================
# ç¬¬ä¸‰éƒ¨åˆ†ï¼šå…ƒç»„æ“ä½œ
# ============================================================================

# ----------------------------------------------------------------------------
# åŸºæœ¬æ“ä½œ
# ----------------------------------------------------------------------------

t1 = (1, 2, 3)
t2 = (4, 5, 6)

# è¿æ¥
combined = t1 + t2
print(f"è¿æ¥: {combined}")

# é‡å¤
repeated = t1 * 3
print(f"é‡å¤: {repeated}")

# æˆå‘˜æ£€æŸ¥
print(f"2 åœ¨ t1: {2 in t1}")

# é•¿åº¦
print(f"é•¿åº¦: {len(t1)}")

# æœ€å€¼
print(f"æœ€å¤§: {max(t1)}, æœ€å°: {min(t1)}")

# æ±‚å’Œ
print(f"æ±‚å’Œ: {sum(t1)}")

# ----------------------------------------------------------------------------
# å…ƒç»„æ–¹æ³•
# ----------------------------------------------------------------------------

t = (1, 2, 3, 2, 2, 4)

# count() - ç»Ÿè®¡å‡ºç°æ¬¡æ•°
print(f"2 å‡ºç°æ¬¡æ•°: {t.count(2)}")

# index() - è¿”å›ç´¢å¼•
print(f"3 çš„ç´¢å¼•: {t.index(3)}")

# ============================================================================
# ç¬¬å››éƒ¨åˆ†ï¼šå…ƒç»„è§£åŒ…
# ============================================================================

# ----------------------------------------------------------------------------
# åŸºæœ¬è§£åŒ…
# ----------------------------------------------------------------------------

point = (3, 4)
x, y = point
print(f"x={x}, y={y}")

# äº¤æ¢å˜é‡
a, b = 1, 2
a, b = b, a
print(f"äº¤æ¢å: a={a}, b={b}")

# ----------------------------------------------------------------------------
# æ‰©å±•è§£åŒ…
# ----------------------------------------------------------------------------

# * è¿ç®—ç¬¦æ”¶é›†å‰©ä½™å…ƒç´ 
first, *rest = (1, 2, 3, 4, 5)
print(f"ç¬¬ä¸€ä¸ª: {first}, å…¶ä½™: {rest}")

*beginning, last = (1, 2, 3, 4, 5)
print(f"å‰é¢çš„: {beginning}, æœ€å: {last}")

first, *middle, last = (1, 2, 3, 4, 5)
print(f"é¦–: {first}, ä¸­: {middle}, å°¾: {last}")

# ----------------------------------------------------------------------------
# åµŒå¥—è§£åŒ…
# ----------------------------------------------------------------------------

nested = ((1, 2), (3, 4))
(a, b), (c, d) = nested
print(f"a={a}, b={b}, c={c}, d={d}")

# ============================================================================
# ç¬¬äº”éƒ¨åˆ†ï¼šå‘½åå…ƒç»„
# ============================================================================

from collections import namedtuple

# ----------------------------------------------------------------------------
# åˆ›å»ºå‘½åå…ƒç»„
# ----------------------------------------------------------------------------

# å®šä¹‰å‘½åå…ƒç»„ç±»å‹
Point = namedtuple('Point', ['x', 'y'])
Student = namedtuple('Student', 'name age grade')

# åˆ›å»ºå®ä¾‹
p = Point(3, 4)
s = Student("å¼ ä¸‰", 20, "å¤§ä¸‰")

print(f"ç‚¹: {p}")
print(f"å­¦ç”Ÿ: {s}")

# é€šè¿‡åç§°è®¿é—®
print(f"xåæ ‡: {p.x}")
print(f"yåæ ‡: {p.y}")
print(f"å­¦ç”Ÿå§“å: {s.name}")

# é€šè¿‡ç´¢å¼•è®¿é—®
print(f"ç´¢å¼•è®¿é—®: {p[0]}, {p[1]}")

# ----------------------------------------------------------------------------
# å‘½åå…ƒç»„çš„æ–¹æ³•
# ----------------------------------------------------------------------------

# _make() - ä»å¯è¿­ä»£å¯¹è±¡åˆ›å»º
coords = [5, 6]
p = Point._make(coords)
print(f"ä»åˆ—è¡¨åˆ›å»º: {p}")

# _asdict() - è½¬æ¢ä¸ºå­—å…¸
d = p._asdict()
print(f"å­—å…¸: {d}")

# _replace() - åˆ›å»ºæ–°å®ä¾‹ï¼ˆæ›¿æ¢éƒ¨åˆ†å­—æ®µï¼‰
p2 = p._replace(x=10)
print(f"æ›¿æ¢å: {p2}")

# _fields - è·å–å­—æ®µå
print(f"å­—æ®µ: {Point._fields}")

# ============================================================================
# ç¬¬å…­éƒ¨åˆ†ï¼šå…ƒç»„çš„ä½¿ç”¨åœºæ™¯
# ============================================================================

# ----------------------------------------------------------------------------
# 1. å‡½æ•°è¿”å›å¤šä¸ªå€¼
# ----------------------------------------------------------------------------

def get_stats(numbers):
    """è¿”å›æœ€å°å€¼ã€æœ€å¤§å€¼å’Œå¹³å‡å€¼"""
    return min(numbers), max(numbers), sum(numbers) / len(numbers)

# æ¥æ”¶å…ƒç»„
result = get_stats([1, 2, 3, 4, 5])
print(f"ç»Ÿè®¡ç»“æœ: {result}")

# ç›´æ¥è§£åŒ…
minimum, maximum, average = get_stats([1, 2, 3, 4, 5])
print(f"æœ€å°={minimum}, æœ€å¤§={maximum}, å¹³å‡={average}")

# ----------------------------------------------------------------------------
# 2. ä½œä¸ºå­—å…¸çš„é”®
# ----------------------------------------------------------------------------

# åˆ—è¡¨ä¸èƒ½ä½œä¸ºå­—å…¸çš„é”®ï¼ˆä¸å¯å“ˆå¸Œï¼‰
# locations = {[1, 2]: "ç‚¹A"}  # TypeError

# å…ƒç»„å¯ä»¥ä½œä¸ºé”®
locations = {
    (0, 0): "åŸç‚¹",
    (1, 0): "ä¸œ",
    (0, 1): "åŒ—",
    (-1, 0): "è¥¿",
    (0, -1): "å—",
}
print(f"åŸç‚¹: {locations[(0, 0)]}")

# ----------------------------------------------------------------------------
# 3. æ ¼å¼åŒ–å­—ç¬¦ä¸²
# ----------------------------------------------------------------------------

# ä½¿ç”¨å…ƒç»„è¿›è¡Œæ ¼å¼åŒ–
data = ("å¼ ä¸‰", 20, "åŒ—äº¬")
print("å§“å: %s, å¹´é¾„: %d, åŸå¸‚: %s" % data)

# ----------------------------------------------------------------------------
# 4. æ•°æ®ä¿æŠ¤
# ----------------------------------------------------------------------------

# å‡½æ•°å‚æ•°ä¿æŠ¤
def process_data(data):
    """å¤„ç†æ•°æ®ï¼Œç¡®ä¿åŸå§‹æ•°æ®ä¸è¢«ä¿®æ”¹"""
    data = tuple(data)  # è½¬æ¢ä¸ºå…ƒç»„
    # åœ¨è¿™é‡Œå¤„ç†æ•°æ®ï¼Œä¸ä¼šæ„å¤–ä¿®æ”¹åŸå§‹æ•°æ®
    return sum(data)

# ----------------------------------------------------------------------------
# 5. å¸¸é‡å®šä¹‰
# ----------------------------------------------------------------------------

# ä½¿ç”¨å…ƒç»„å®šä¹‰å¸¸é‡
WEEKDAYS = ("å‘¨ä¸€", "å‘¨äºŒ", "å‘¨ä¸‰", "å‘¨å››", "å‘¨äº”", "å‘¨å…­", "å‘¨æ—¥")
DIRECTIONS = ("åŒ—", "ä¸œ", "å—", "è¥¿")
RGB_CHANNELS = ("red", "green", "blue")

print(f"ä»Šå¤©æ˜¯: {WEEKDAYS[0]}")

# ============================================================================
# ç¬¬ä¸ƒéƒ¨åˆ†ï¼šå…ƒç»„ vs åˆ—è¡¨
# ============================================================================

"""
ã€å¯¹æ¯”æ€»ç»“ã€‘

ç‰¹æ€§          |  åˆ—è¡¨ (List)  |  å…ƒç»„ (Tuple)
--------------|---------------|---------------
å¯å˜æ€§        |  å¯å˜         |  ä¸å¯å˜
è¯­æ³•          |  [1, 2, 3]    |  (1, 2, 3)
ä½œä¸ºå­—å…¸é”®    |  ä¸å¯ä»¥       |  å¯ä»¥
æ–¹æ³•æ•°é‡      |  å¤š           |  å°‘ï¼ˆåªæœ‰count, indexï¼‰
æ€§èƒ½          |  è¾ƒæ…¢         |  è¾ƒå¿«
å†…å­˜å ç”¨      |  è¾ƒå¤§         |  è¾ƒå°

ã€ä½¿ç”¨å»ºè®®ã€‘
- æ•°æ®éœ€è¦ä¿®æ”¹æ—¶ï¼Œä½¿ç”¨åˆ—è¡¨
- æ•°æ®ä¸åº”ä¿®æ”¹æ—¶ï¼Œä½¿ç”¨å…ƒç»„
- éœ€è¦ä½œä¸ºå­—å…¸é”®æ—¶ï¼Œä½¿ç”¨å…ƒç»„
- å‡½æ•°è¿”å›å¤šä¸ªå€¼æ—¶ï¼Œä½¿ç”¨å…ƒç»„
- æ€§èƒ½æ•æ„Ÿåœºæ™¯ï¼Œä¼˜å…ˆå…ƒç»„
"""

import sys

# å†…å­˜å ç”¨å¯¹æ¯”
lst = [1, 2, 3, 4, 5]
tpl = (1, 2, 3, 4, 5)

print(f"åˆ—è¡¨å†…å­˜: {sys.getsizeof(lst)} å­—èŠ‚")
print(f"å…ƒç»„å†…å­˜: {sys.getsizeof(tpl)} å­—èŠ‚")

# ============================================================================
# ç»ƒä¹ é¢˜
# ============================================================================
"""
ã€ç»ƒä¹ 1ã€‘å…ƒç»„æ“ä½œ
1. åˆ›å»ºä¸€ä¸ªåŒ…å«ä¸€å‘¨7å¤©çš„å…ƒç»„
2. è·å–ç¬¬3å¤©çš„åç§°
3. åˆ‡ç‰‡è·å–å·¥ä½œæ—¥
4. åˆ¤æ–­"å‘¨æ—¥"æ˜¯å¦åœ¨å…ƒç»„ä¸­

ã€ç»ƒä¹ 2ã€‘å…ƒç»„è§£åŒ…
1. åˆ›å»ºä¸€ä¸ªåŒ…å«å­¦ç”Ÿä¿¡æ¯çš„å…ƒç»„ï¼ˆå§“åã€å¹´é¾„ã€æˆç»©ï¼‰
2. è§£åŒ…å¹¶æ‰“å°å„ä¸ªå­—æ®µ
3. ä½¿ç”¨æ‰©å±•è§£åŒ…è·å–ç¬¬ä¸€ä¸ªå’Œæœ€åä¸¤ä¸ªæˆç»©

ã€ç»ƒä¹ 3ã€‘å‘½åå…ƒç»„
1. åˆ›å»ºä¸€ä¸ªè¡¨ç¤ºçŸ©å½¢çš„å‘½åå…ƒç»„ï¼ˆé•¿ã€å®½ï¼‰
2. æ·»åŠ è®¡ç®—é¢ç§¯çš„æ–¹æ³•
3. åˆ›å»ºå¤šä¸ªçŸ©å½¢å®ä¾‹å¹¶è®¡ç®—æ€»é¢ç§¯
"""

# ============================================================================
# æœ¬èŠ‚å°ç»“
# ============================================================================
"""
âœ… æŒæ¡çš„çŸ¥è¯†ç‚¹ï¼š
1. å…ƒç»„çš„åˆ›å»ºå’ŒåŸºæœ¬æ“ä½œ
2. å…ƒç»„çš„ä¸å¯å˜æ€§
3. å…ƒç»„è§£åŒ…ï¼ˆåŸºæœ¬ã€æ‰©å±•ã€åµŒå¥—ï¼‰
4. å‘½åå…ƒç»„çš„ä½¿ç”¨
5. å…ƒç»„ä½œä¸ºå­—å…¸é”®
6. å…ƒç»„ä¸åˆ—è¡¨çš„é€‰æ‹©

ğŸ”§ PyCharm æŠ€å·§ï¼š
1. ä½¿ç”¨ id() æŸ¥çœ‹å†…å­˜åœ°å€
2. åœ¨ Debug ä¸­è§‚å¯Ÿå…ƒç»„çš„ä¸å¯å˜æ€§
3. ä½¿ç”¨ Quick Documentation æŸ¥çœ‹ç±»å‹ä¿¡æ¯

â¡ï¸ ä¸‹ä¸€èŠ‚ï¼šå­—å…¸
"""

if __name__ == "__main__":
    print("\n" + "=" * 60)
    print("å…ƒç»„æ¨¡å—å­¦ä¹ å®Œæˆï¼")
    print("=" * 60)
