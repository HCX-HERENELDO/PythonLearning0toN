#!/usr/bin/env python
# -*- coding: utf-8 -*-
"""
============================================================================
æ¨¡å—åç§°ï¼šåˆ—è¡¨
å­¦ä¹ ç›®æ ‡ï¼šæ·±å…¥æŒæ¡ Python åˆ—è¡¨çš„åˆ›å»ºã€æ“ä½œå’Œæ–¹æ³•
PyCharm æŠ€å·§ï¼šå­¦ä¹ ä½¿ç”¨è°ƒè¯•å™¨æŸ¥çœ‹åˆ—è¡¨å†…å®¹çš„å˜åŒ–
============================================================================
"""

# ============================================================================
# ç¬¬ä¸€éƒ¨åˆ†ï¼šåˆ—è¡¨åŸºç¡€
# ============================================================================
"""
ã€æ¦‚å¿µè®²è§£ã€‘
åˆ—è¡¨ï¼ˆListï¼‰æ˜¯ Python ä¸­æœ€å¸¸ç”¨çš„æ•°æ®ç»“æ„ï¼Œæ˜¯ä¸€ä¸ªæœ‰åºçš„å¯å˜åºåˆ—ã€‚
åˆ—è¡¨å¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹çš„å…ƒç´ ï¼Œæ”¯æŒç´¢å¼•ã€åˆ‡ç‰‡ã€æ·»åŠ ã€åˆ é™¤ç­‰æ“ä½œã€‚
"""

# ----------------------------------------------------------------------------
# åˆ›å»ºåˆ—è¡¨
# ----------------------------------------------------------------------------

# ç›´æ¥åˆ›å»º
numbers = [1, 2, 3, 4, 5]
fruits = ["è‹¹æœ", "é¦™è•‰", "æ©™å­"]
mixed = [1, "hello", 3.14, True, None]  # æ··åˆç±»å‹

# ç©ºåˆ—è¡¨
empty_list1 = []
empty_list2 = list()

# ä½¿ç”¨ list() å‡½æ•°
chars = list("Python")  # ['P', 'y', 't', 'h', 'o', 'n']
range_list = list(range(5))  # [0, 1, 2, 3, 4]

# ä»å…¶ä»–åºåˆ—åˆ›å»º
tuple_data = (1, 2, 3)
list_from_tuple = list(tuple_data)

print(f"æ•°å­—åˆ—è¡¨: {numbers}")
print(f"å­—ç¬¦åˆ—è¡¨: {chars}")

# ã€PyCharm æŠ€å·§ã€‘
# åœ¨è°ƒè¯•æ¨¡å¼ä¸‹ï¼Œå¯ä»¥åœ¨ Variables é¢æ¿å±•å¼€åˆ—è¡¨æŸ¥çœ‹æ¯ä¸ªå…ƒç´ 

# ----------------------------------------------------------------------------
# åˆ—è¡¨ç´¢å¼•
# ----------------------------------------------------------------------------

fruits = ["è‹¹æœ", "é¦™è•‰", "æ©™å­", "è‘¡è„", "è¥¿ç“œ"]

# æ­£å‘ç´¢å¼•ï¼ˆä» 0 å¼€å§‹ï¼‰
print(f"ç¬¬ä¸€ä¸ª: {fruits[0]}")   # è‹¹æœ
print(f"ç¬¬ä¸‰ä¸ª: {fruits[2]}")   # æ©™å­

# åå‘ç´¢å¼•ï¼ˆä» -1 å¼€å§‹ï¼‰
print(f"æœ€åä¸€ä¸ª: {fruits[-1]}")  # è¥¿ç“œ
print(f"å€’æ•°ç¬¬äºŒä¸ª: {fruits[-2]}")  # è‘¡è„

# ç´¢å¼•å›¾ç¤º
"""
ç´¢å¼•:     0     1     2     3     4
å…ƒç´ :    è‹¹æœ   é¦™è•‰   æ©™å­   è‘¡è„   è¥¿ç“œ
åå‘ç´¢å¼•: -5    -4    -3    -2    -1
"""

# ----------------------------------------------------------------------------
# åˆ—è¡¨åˆ‡ç‰‡
# ----------------------------------------------------------------------------

numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]

# åŸºæœ¬åˆ‡ç‰‡ [start:end]
print(f"[2:5]: {numbers[2:5]}")     # [2, 3, 4]
print(f"[:3]: {numbers[:3]}")       # [0, 1, 2]
print(f"[7:]: {numbers[7:]}")       # [7, 8, 9]

# å¸¦æ­¥é•¿ [start:end:step]
print(f"[::2]: {numbers[::2]}")     # [0, 2, 4, 6, 8]
print(f"[1::2]: {numbers[1::2]}")   # [1, 3, 5, 7, 9]

# åè½¬åˆ—è¡¨
print(f"[::-1]: {numbers[::-1]}")   # [9, 8, 7, 6, 5, 4, 3, 2, 1, 0]

# ============================================================================
# ç¬¬äºŒéƒ¨åˆ†ï¼šåˆ—è¡¨çš„ä¿®æ”¹
# ============================================================================

# ----------------------------------------------------------------------------
# ä¿®æ”¹å…ƒç´ 
# ----------------------------------------------------------------------------

fruits = ["è‹¹æœ", "é¦™è•‰", "æ©™å­"]

# é€šè¿‡ç´¢å¼•ä¿®æ”¹
fruits[1] = "è‘¡è„"
print(f"ä¿®æ”¹å: {fruits}")

# é€šè¿‡åˆ‡ç‰‡ä¿®æ”¹å¤šä¸ªå…ƒç´ 
fruits[0:2] = ["è¥¿ç“œ", "èŠ’æœ"]
print(f"åˆ‡ç‰‡ä¿®æ”¹: {fruits}")

# ----------------------------------------------------------------------------
# æ·»åŠ å…ƒç´ 
# ----------------------------------------------------------------------------

numbers = [1, 2, 3]

# append() - åœ¨æœ«å°¾æ·»åŠ ä¸€ä¸ªå…ƒç´ 
numbers.append(4)
print(f"append: {numbers}")

# extend() - åœ¨æœ«å°¾æ·»åŠ å¤šä¸ªå…ƒç´ 
numbers.extend([5, 6])
print(f"extend: {numbers}")

# insert() - åœ¨æŒ‡å®šä½ç½®æ’å…¥
numbers.insert(0, 0)  # åœ¨ç´¢å¼• 0 å¤„æ’å…¥
print(f"insert: {numbers}")

# ä½¿ç”¨ + åˆå¹¶åˆ—è¡¨
combined = [1, 2] + [3, 4]
print(f"åˆå¹¶: {combined}")

# ----------------------------------------------------------------------------
# åˆ é™¤å…ƒç´ 
# ----------------------------------------------------------------------------

fruits = ["è‹¹æœ", "é¦™è•‰", "æ©™å­", "è‘¡è„", "è¥¿ç“œ"]

# remove() - åˆ é™¤æŒ‡å®šå€¼çš„å…ƒç´ ï¼ˆç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ï¼‰
fruits.remove("é¦™è•‰")
print(f"remove: {fruits}")

# pop() - åˆ é™¤å¹¶è¿”å›æŒ‡å®šç´¢å¼•çš„å…ƒç´ 
removed = fruits.pop(1)  # åˆ é™¤ç´¢å¼• 1
print(f"pop åˆ é™¤äº†: {removed}")
print(f"pop å: {fruits}")

# pop() ä¸ä¼ å‚æ•°ï¼Œåˆ é™¤æœ€åä¸€ä¸ª
last = fruits.pop()
print(f"pop æœ€å: {last}")

# del è¯­å¥
del fruits[0]
print(f"del å: {fruits}")

# clear() - æ¸…ç©ºåˆ—è¡¨
numbers = [1, 2, 3]
numbers.clear()
print(f"clear: {numbers}")

# ============================================================================
# ç¬¬ä¸‰éƒ¨åˆ†ï¼šåˆ—è¡¨å¸¸ç”¨æ–¹æ³•
# ============================================================================

# ----------------------------------------------------------------------------
# æŸ¥æ‰¾æ–¹æ³•
# ----------------------------------------------------------------------------

numbers = [1, 2, 3, 2, 4, 2, 5]

# index() - è¿”å›å…ƒç´ çš„ç´¢å¼•
idx = numbers.index(3)
print(f"3 çš„ç´¢å¼•: {idx}")

# index() æŒ‡å®šèŒƒå›´
idx = numbers.index(2, 2)  # ä»ç´¢å¼• 2 å¼€å§‹æ‰¾
print(f"ä»ç´¢å¼• 2 æ‰¾ 2: {idx}")

# count() - ç»Ÿè®¡å…ƒç´ å‡ºç°æ¬¡æ•°
count = numbers.count(2)
print(f"2 å‡ºç°æ¬¡æ•°: {count}")

# in è¿ç®—ç¬¦
print(f"3 åœ¨åˆ—è¡¨ä¸­: {3 in numbers}")
print(f"10 åœ¨åˆ—è¡¨ä¸­: {10 in numbers}")

# ----------------------------------------------------------------------------
# æ’åºæ–¹æ³•
# ----------------------------------------------------------------------------

numbers = [3, 1, 4, 1, 5, 9, 2, 6]

# sort() - åŸåœ°æ’åºï¼ˆä¿®æ”¹åŸåˆ—è¡¨ï¼‰
numbers.sort()
print(f"å‡åº: {numbers}")

numbers.sort(reverse=True)
print(f"é™åº: {numbers}")

# sorted() - è¿”å›æ–°åˆ—è¡¨ï¼ˆä¸ä¿®æ”¹åŸåˆ—è¡¨ï¼‰
original = [3, 1, 4, 1, 5]
sorted_list = sorted(original)
print(f"åŸåˆ—è¡¨: {original}")
print(f"æ–°åˆ—è¡¨: {sorted_list}")

# è‡ªå®šä¹‰æ’åº
students = [
    {"name": "å¼ ä¸‰", "age": 20},
    {"name": "æå››", "age": 18},
    {"name": "ç‹äº”", "age": 22},
]

# æŒ‰å¹´é¾„æ’åº
students.sort(key=lambda x: x["age"])
print(f"æŒ‰å¹´é¾„æ’åº: {students}")

# å­—ç¬¦ä¸²æ’åº
words = ["banana", "Apple", "cherry", "Date"]
words.sort()  # é»˜è®¤åŒºåˆ†å¤§å°å†™
print(f"é»˜è®¤æ’åº: {words}")

words.sort(key=str.lower)  # å¿½ç•¥å¤§å°å†™
print(f"å¿½ç•¥å¤§å°å†™: {words}")

# ----------------------------------------------------------------------------
# åè½¬æ–¹æ³•
# ----------------------------------------------------------------------------

numbers = [1, 2, 3, 4, 5]

# reverse() - åŸåœ°åè½¬
numbers.reverse()
print(f"reverse: {numbers}")

# reversed() - è¿”å›è¿­ä»£å™¨
reversed_list = list(reversed(numbers))
print(f"reversed: {reversed_list}")

# ----------------------------------------------------------------------------
# å¤åˆ¶æ–¹æ³•
# ----------------------------------------------------------------------------

original = [1, 2, [3, 4]]

# æµ…æ‹·è´
copy1 = original.copy()
copy2 = original[:]
copy3 = list(original)

# ä¿®æ”¹æµ…æ‹·è´
copy1[0] = 100
print(f"åŸåˆ—è¡¨: {original}")  # ä¸å—å½±å“

copy1[2][0] = 300  # ä¿®æ”¹åµŒå¥—åˆ—è¡¨
print(f"åŸåˆ—è¡¨åµŒå¥—è¢«ä¿®æ”¹: {original}")  # å—å½±å“ï¼

# æ·±æ‹·è´
import copy
deep_copy = copy.deepcopy(original)
deep_copy[2][0] = 999
print(f"æ·±æ‹·è´ä¸å½±å“åŸåˆ—è¡¨: {original}")

# ============================================================================
# ç¬¬å››éƒ¨åˆ†ï¼šåˆ—è¡¨æ¨å¯¼å¼
# ============================================================================

# ----------------------------------------------------------------------------
# åŸºæœ¬è¯­æ³•
# ----------------------------------------------------------------------------

# [è¡¨è¾¾å¼ for å˜é‡ in å¯è¿­ä»£å¯¹è±¡]
squares = [x ** 2 for x in range(10)]
print(f"å¹³æ–¹æ•°: {squares}")

# å¸¦æ¡ä»¶
evens = [x for x in range(20) if x % 2 == 0]
print(f"å¶æ•°: {evens}")

# å¸¦æ¡ä»¶è¡¨è¾¾å¼
labels = ["å¶æ•°" if x % 2 == 0 else "å¥‡æ•°" for x in range(5)]
print(f"æ ‡ç­¾: {labels}")

# ----------------------------------------------------------------------------
# åµŒå¥—æ¨å¯¼å¼
# ----------------------------------------------------------------------------

# äºŒç»´åˆ—è¡¨
matrix = [[i * j for j in range(1, 4)] for i in range(1, 4)]
print(f"çŸ©é˜µ: {matrix}")

# æ‰å¹³åŒ–
flat = [item for row in matrix for item in row]
print(f"æ‰å¹³åŒ–: {flat}")

# ç¬›å¡å°”ç§¯
colors = ["çº¢", "è“"]
sizes = ["S", "M", "L"]
products = [(color, size) for color in colors for size in sizes]
print(f"ç¬›å¡å°”ç§¯: {products}")

# ============================================================================
# ç¬¬äº”éƒ¨åˆ†ï¼šåˆ—è¡¨çš„å®é™…åº”ç”¨
# ============================================================================

# ----------------------------------------------------------------------------
# ç»Ÿè®¡è®¡ç®—
# ----------------------------------------------------------------------------

scores = [85, 92, 78, 90, 88, 76, 95]

# åŸºæœ¬ç»Ÿè®¡
total = sum(scores)
count = len(scores)
average = total / count
maximum = max(scores)
minimum = min(scores)

print(f"æ€»åˆ†: {total}")
print(f"å¹³å‡åˆ†: {average:.2f}")
print(f"æœ€é«˜åˆ†: {maximum}")
print(f"æœ€ä½åˆ†: {minimum}")

# ä½¿ç”¨ statistics æ¨¡å—
import statistics
print(f"ä¸­ä½æ•°: {statistics.median(scores)}")
print(f"æ ‡å‡†å·®: {statistics.stdev(scores):.2f}")

# ----------------------------------------------------------------------------
# æ•°æ®è¿‡æ»¤
# ----------------------------------------------------------------------------

# è¿‡æ»¤åŠæ ¼çš„å­¦ç”Ÿ
passed = [score for score in scores if score >= 80]
print(f"80åˆ†ä»¥ä¸Š: {passed}")

# ä½¿ç”¨ filter() å‡½æ•°
failed = list(filter(lambda x: x < 80, scores))
print(f"80åˆ†ä»¥ä¸‹: {failed}")

# ----------------------------------------------------------------------------
# æ•°æ®æ˜ å°„
# ----------------------------------------------------------------------------

# å°†åˆ†æ•°è½¬æ¢ä¸ºç­‰çº§
def get_grade(score):
    if score >= 90:
        return "A"
    elif score >= 80:
        return "B"
    elif score >= 70:
        return "C"
    else:
        return "D"

grades = [get_grade(score) for score in scores]
print(f"ç­‰çº§: {grades}")

# ä½¿ç”¨ map() å‡½æ•°
grades = list(map(get_grade, scores))

# ----------------------------------------------------------------------------
# åˆ—è¡¨ä½œä¸ºæ ˆ
# ----------------------------------------------------------------------------

stack = []

# å…¥æ ˆ
stack.append(1)
stack.append(2)
stack.append(3)
print(f"æ ˆ: {stack}")

# å‡ºæ ˆ
item = stack.pop()
print(f"å‡ºæ ˆ: {item}")
print(f"æ ˆ: {stack}")

# ----------------------------------------------------------------------------
# åˆ—è¡¨ä½œä¸ºé˜Ÿåˆ—ï¼ˆä¸æ¨èï¼Œç”¨ dequeï¼‰
# ----------------------------------------------------------------------------

from collections import deque

queue = deque()

# å…¥é˜Ÿ
queue.append(1)
queue.append(2)
queue.append(3)
print(f"é˜Ÿåˆ—: {list(queue)}")

# å‡ºé˜Ÿ
item = queue.popleft()
print(f"å‡ºé˜Ÿ: {item}")
print(f"é˜Ÿåˆ—: {list(queue)}")

# ============================================================================
# ç¬¬å…­éƒ¨åˆ†ï¼šåˆ—è¡¨æ€§èƒ½è€ƒè™‘
# ============================================================================

import time

# ----------------------------------------------------------------------------
# æ€§èƒ½å¯¹æ¯”
# ----------------------------------------------------------------------------

# åœ¨åˆ—è¡¨å¼€å¤´æ’å…¥ï¼ˆæ…¢ï¼‰
lst = list(range(10000))
start = time.time()
for i in range(100):
    lst.insert(0, i)
print(f"å¼€å¤´æ’å…¥è€—æ—¶: {time.time() - start:.4f}ç§’")

# åœ¨åˆ—è¡¨æœ«å°¾æ·»åŠ ï¼ˆå¿«ï¼‰
lst = list(range(10000))
start = time.time()
for i in range(100):
    lst.append(i)
print(f"æœ«å°¾æ·»åŠ è€—æ—¶: {time.time() - start:.4f}ç§’")

"""
ã€æ€§èƒ½æç¤ºã€‘
- append() å’Œ pop() åœ¨åˆ—è¡¨æœ«å°¾æ“ä½œæ˜¯ O(1)
- insert() å’Œ pop(0) åœ¨åˆ—è¡¨å¼€å¤´æ“ä½œæ˜¯ O(n)
- æŸ¥æ‰¾å…ƒç´ ï¼ˆin, indexï¼‰æ˜¯ O(n)
- è®¿é—®å…ƒç´ ï¼ˆç´¢å¼•ï¼‰æ˜¯ O(1)

éœ€è¦é¢‘ç¹åœ¨å¼€å¤´æ’å…¥/åˆ é™¤æ—¶ï¼Œä½¿ç”¨ collections.deque
"""

# ============================================================================
# ç»ƒä¹ é¢˜
# ============================================================================
"""
ã€ç»ƒä¹ 1ã€‘åˆ—è¡¨æ“ä½œ
ç»™å®šåˆ—è¡¨ [1, 2, 3, 4, 5]ï¼Œå®Œæˆä»¥ä¸‹æ“ä½œï¼š
1. åœ¨æœ«å°¾æ·»åŠ æ•°å­— 6
2. åœ¨å¼€å¤´æ’å…¥æ•°å­— 0
3. åˆ é™¤æ•°å­— 3
4. åè½¬åˆ—è¡¨
5. å¯¹åˆ—è¡¨æ’åº

ã€ç»ƒä¹ 2ã€‘åˆ—è¡¨æ¨å¯¼å¼
ä½¿ç”¨åˆ—è¡¨æ¨å¯¼å¼ï¼š
1. ç”Ÿæˆ 1-100 ä¸­æ‰€æœ‰èƒ½è¢« 3 æ•´é™¤çš„æ•°
2. å°†åˆ—è¡¨ä¸­æ‰€æœ‰å­—ç¬¦ä¸²è½¬ä¸ºå¤§å†™
3. ç”Ÿæˆä¹ä¹ä¹˜æ³•è¡¨ï¼ˆäºŒç»´åˆ—è¡¨ï¼‰

ã€ç»ƒä¹ 3ã€‘æ•°æ®ç»Ÿè®¡
ç»™å®šå­¦ç”Ÿæˆç»©åˆ—è¡¨ï¼Œè®¡ç®—ï¼š
1. å¹³å‡åˆ†
2. æœ€é«˜åˆ†å’Œæœ€ä½åˆ†
3. åŠæ ¼ç‡ï¼ˆ>=60åˆ†ï¼‰
4. æ–¹å·®å’Œæ ‡å‡†å·®
"""

# ============================================================================
# æœ¬èŠ‚å°ç»“
# ============================================================================
"""
âœ… æŒæ¡çš„çŸ¥è¯†ç‚¹ï¼š
1. åˆ—è¡¨çš„åˆ›å»ºå’Œç´¢å¼•
2. åˆ—è¡¨çš„åˆ‡ç‰‡æ“ä½œ
3. æ·»åŠ å…ƒç´ ï¼šappend(), extend(), insert()
4. åˆ é™¤å…ƒç´ ï¼šremove(), pop(), del, clear()
5. æŸ¥æ‰¾æ–¹æ³•ï¼šindex(), count(), in
6. æ’åºæ–¹æ³•ï¼šsort(), sorted()
7. åˆ—è¡¨æ¨å¯¼å¼
8. åˆ—è¡¨çš„æµ…æ‹·è´å’Œæ·±æ‹·è´
9. åˆ—è¡¨ä½œä¸ºæ ˆå’Œé˜Ÿåˆ—

ğŸ”§ PyCharm æŠ€å·§ï¼š
1. Variables é¢æ¿å±•å¼€æŸ¥çœ‹åˆ—è¡¨å…ƒç´ 
2. åœ¨åˆ—è¡¨æ“ä½œå¤„è®¾ç½®æ–­ç‚¹è§‚å¯Ÿå˜åŒ–
3. Evaluate Expression æµ‹è¯•åˆ—è¡¨æ–¹æ³•

â¡ï¸ ä¸‹ä¸€èŠ‚ï¼šå…ƒç»„
"""

if __name__ == "__main__":
    print("\n" + "=" * 60)
    print("åˆ—è¡¨æ¨¡å—å­¦ä¹ å®Œæˆï¼")
    print("=" * 60)
