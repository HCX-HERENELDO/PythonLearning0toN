# PyCharm 版本控制

## 目录
1. [Git 基础配置](#1-git-基础配置)
2. [提交代码](#2-提交代码)
3. [分支管理](#3-分支管理)
4. [远程仓库](#4-远程仓库)
5. [解决冲突](#5-解决冲突)

---

## 1. Git 基础配置

### 初始化 Git 仓库

1. `VCS` → `Create Git Repository`
2. 选择项目目录

### 配置 Git

`File` → `Settings` → `Version Control` → `Git`

配置项：
- Git 可执行文件路径
- SSH 可执行文件
- 凭据助手

### 设置忽略文件

创建或编辑 `.gitignore` 文件：

```gitignore
# Python
__pycache__/
*.py[cod]
*.so
.Python
venv/
ENV/

# IDE
.idea/
*.iml

# 测试
.pytest_cache/
.coverage
htmlcov/

# 构建
dist/
build/
*.egg-info/
```

---

## 2. 提交代码

### 查看变更

**快捷键**：`Alt + 9` 打开 Version Control 面板

可以看到：
- 修改的文件
- 新增的文件
- 删除的文件

### 提交更改

**快捷键**：`Ctrl + K`

操作步骤：
1. 选择要提交的文件
2. 输入提交信息
3. 点击 Commit 或 Commit and Push

### 提交信息规范

推荐格式：
```
<type>(<scope>): <subject>

<body>

<footer>
```

类型：
- `feat`：新功能
- `fix`：修复 bug
- `docs`：文档更新
- `style`：代码格式
- `refactor`：重构
- `test`：测试
- `chore`：构建/工具

---

## 3. 分支管理

### 创建分支

**快捷键**：`Ctrl + Shift + ` ` (反引号)

或：右下角分支图标 → `New Branch`

### 切换分支

点击右下角分支名称 → 选择分支

### 合并分支

1. 切换到目标分支
2. 右键要合并的分支 → `Merge`

### 删除分支

右下角分支图标 → `Manage Branches` → 选择分支 → 删除

---

## 4. 远程仓库

### 添加远程仓库

`Git` → `Manage Remotes`

添加 GitHub、GitLab 等远程仓库地址。

### 推送代码

**快捷键**：`Ctrl + Shift + K`

### 拉取代码

**快捷键**：`Ctrl + T`

选项：
- Merge：合并
- Rebase：变基

### 克隆仓库

1. `File` → `New` → `Project from Version Control`
2. 输入仓库 URL
3. 选择本地目录

---

## 5. 解决冲突

### 冲突标记

当合并或拉取时发生冲突：
```
<<<<<<< HEAD
当前分支的代码
=======
远程分支的代码
>>>>>>> feature-branch
```

### 解决冲突

PyCharm 提供 merge 工具：
1. 点击冲突文件
2. 查看 左侧(本地) / 中间(结果) / 右侧(远程)
3. 选择要保留的内容
4. 点击 Apply

### 冲突解决策略

| 策略 | 说明 |
|------|------|
| Accept Yours | 使用本地版本 |
| Accept Theirs | 使用远程版本 |
| Merge | 手动合并 |

---

## Git 快捷键总结

| 操作 | 快捷键 |
|------|--------|
| 提交 | Ctrl + K |
| 推送 | Ctrl + Shift + K |
| 拉取 | Ctrl + T |
| 打开 VCS 面板 | Alt + 9 |
| Git 菜单 | Alt + ` |

---

## GitHub 集成

### 登录 GitHub

`File` → `Settings` → `Version Control` → `GitHub`

添加 GitHub 账户。

### 创建 GitHub 仓库

`Git` → `GitHub` → `Create GitHub Repository`

### 创建 Pull Request

`Git` → `GitHub` → `Create Pull Request`

---

## 练习

1. 初始化项目 Git 仓库
2. 创建并切换分支
3. 提交代码并推送到远程
4. 模拟并解决一个合并冲突
