# PyCharm 代码重构

## 目录
1. [重命名](#1-重命名)
2. [提取方法](#2-提取方法)
3. [提取变量](#3-提取变量)
4. [移动和复制](#4-移动和复制)
5. [其他重构操作](#5-其他重构操作)

---

## 1. 重命名

### 重命名变量/方法/类

**快捷键**：`Shift + F6`

操作步骤：
1. 将光标放在要重命名的元素上
2. 按 `Shift + F6`
3. 输入新名称
4. 按 Enter 确认

### 重命名文件

1. 右键文件 → `Refactor` → `Rename`
2. 输入新文件名
3. 选择是否搜索引用

### 重命名项目

1. 右键项目根目录 → `Refactor` → `Rename`
2. 注意：只会重命名文件夹，需要手动更新配置

---

## 2. 提取方法

### 提取为方法

**快捷键**：`Ctrl + Alt + M`

操作步骤：
1. 选中要提取的代码块
2. 按 `Ctrl + Alt + M`
3. 输入方法名
4. 确认参数和返回值

示例：

重构前：
```python
# 选中的代码
total = 0
for item in items:
    total += item.price * item.quantity
return total
```

重构后：
```python
def calculate_total(items):
    total = 0
    for item in items:
        total += item.price * item.quantity
    return total

return calculate_total(items)
```

---

## 3. 提取变量

### 提取为变量

**快捷键**：`Ctrl + Alt + V`

示例：

重构前：
```python
print(user.orders[0].items[0].price * user.orders[0].items[0].quantity)
```

重构后：
```python
item = user.orders[0].items[0]
print(item.price * item.quantity)
```

### 提取为参数

**快捷键**：`Ctrl + Alt + P`

将表达式提取为函数参数。

### 提取为字段

**快捷键**：`Ctrl + Alt + F`

将表达式提取为类字段。

---

## 4. 移动和复制

### 移动类/方法

**快捷键**：`F6`

可以将类或方法移动到另一个文件。

### 复制类/方法

**快捷键**：`F5`

创建类或方法的副本。

---

## 5. 其他重构操作

### 内联变量/方法

**快捷键**：`Ctrl + Alt + N`

将变量或方法替换为其值/实现。

### 更改签名

**快捷键**：`Ctrl + F6`

修改方法的参数列表。

### 提取常量

**快捷键**：`Ctrl + Alt + C`

将表达式提取为常量。

### 提取参数对象

将多个参数封装为一个对象。

---

## 重构快捷键总结

| 操作 | 快捷键 |
|------|--------|
| 重命名 | Shift + F6 |
| 提取方法 | Ctrl + Alt + M |
| 提取变量 | Ctrl + Alt + V |
| 提取参数 | Ctrl + Alt + P |
| 提取字段 | Ctrl + Alt + F |
| 提取常量 | Ctrl + Alt + C |
| 内联 | Ctrl + Alt + N |
| 移动 | F6 |
| 复制 | F5 |
| 更改签名 | Ctrl + F6 |

---

## 练习

1. 练习重命名变量和方法
2. 将重复代码提取为方法
3. 将复杂表达式提取为变量
4. 尝试移动方法到另一个类
