#!/usr/bin/env python
# -*- coding: utf-8 -*-
"""
============================================================================
æ¨¡å—åç§°ï¼šå¾ªç¯è¯­å¥
å­¦ä¹ ç›®æ ‡ï¼šæŒæ¡ for å¾ªç¯å’Œ while å¾ªç¯ï¼Œç†è§£å¾ªç¯æ§åˆ¶è¯­å¥
PyCharm æŠ€å·§ï¼šå­¦ä¹ è°ƒè¯•å¾ªç¯ï¼Œè§‚å¯Ÿè¿­ä»£è¿‡ç¨‹
============================================================================
"""

# ============================================================================
# ç¬¬ä¸€éƒ¨åˆ†ï¼šfor å¾ªç¯
# ============================================================================
"""
ã€æ¦‚å¿µè®²è§£ã€‘
for å¾ªç¯ç”¨äºéå†åºåˆ—ï¼ˆåˆ—è¡¨ã€å…ƒç»„ã€å­—ç¬¦ä¸²ï¼‰æˆ–å…¶ä»–å¯è¿­ä»£å¯¹è±¡ã€‚
"""

# ----------------------------------------------------------------------------
# åŸºæœ¬éå†
# ----------------------------------------------------------------------------

# éå†åˆ—è¡¨
fruits = ["è‹¹æœ", "é¦™è•‰", "æ©™å­"]
for fruit in fruits:
    print(f"æ°´æœï¼š{fruit}")

# éå†å­—ç¬¦ä¸²
for char in "Python":
    print(char, end=" ")
print()  # æ¢è¡Œ

# éå†å­—å…¸
student = {"name": "å°æ˜", "age": 20, "grade": "å¤§ä¸‰"}
for key in student:
    print(f"{key}: {student[key]}")

# éå†é”®å€¼å¯¹
for key, value in student.items():
    print(f"{key}: {value}")

# ã€PyCharm æŠ€å·§ã€‘
# åœ¨ for å¾ªç¯è®¾ç½®æ–­ç‚¹ï¼Œå¯ä»¥è§‚å¯Ÿæ¯æ¬¡è¿­ä»£çš„è¿‡ç¨‹
# æŒ‰ F9 ç»§ç»­æ‰§è¡Œåˆ°ä¸‹ä¸€æ¬¡è¿­ä»£

# ----------------------------------------------------------------------------
# range() å‡½æ•°
# ----------------------------------------------------------------------------

# range(stop) - ä» 0 åˆ° stop-1
for i in range(5):
    print(i, end=" ")  # 0 1 2 3 4
print()

# range(start, stop) - ä» start åˆ° stop-1
for i in range(2, 6):
    print(i, end=" ")  # 2 3 4 5
print()

# range(start, stop, step) - æŒ‡å®šæ­¥é•¿
for i in range(0, 10, 2):
    print(i, end=" ")  # 0 2 4 6 8
print()

# å€’åº
for i in range(5, 0, -1):
    print(i, end=" ")  # 5 4 3 2 1
print()

# ----------------------------------------------------------------------------
# enumerate() - è·å–ç´¢å¼•å’Œå€¼
# ----------------------------------------------------------------------------

fruits = ["è‹¹æœ", "é¦™è•‰", "æ©™å­"]

# è·å–ç´¢å¼•å’Œå€¼
for index, fruit in enumerate(fruits):
    print(f"ç´¢å¼• {index}: {fruit}")

# æŒ‡å®šèµ·å§‹ç´¢å¼•
for index, fruit in enumerate(fruits, start=1):
    print(f"ç¬¬ {index} ä¸ªæ°´æœ: {fruit}")

# ----------------------------------------------------------------------------
# zip() - å¹¶è¡Œéå†
# ----------------------------------------------------------------------------

names = ["å°æ˜", "å°çº¢", "å°åˆš"]
ages = [20, 18, 22]
scores = [85, 92, 78]

# åŒæ—¶éå†å¤šä¸ªåˆ—è¡¨
for name, age, score in zip(names, ages, scores):
    print(f"{name}, {age}å², æˆç»©: {score}")

# é•¿åº¦ä¸åŒæ—¶ï¼Œä»¥æœ€çŸ­çš„ä¸ºå‡†
list1 = [1, 2, 3, 4, 5]
list2 = ['a', 'b', 'c']

for num, letter in zip(list1, list2):
    print(f"{num}: {letter}")  # åªè¾“å‡º 3 ç»„

# zip_longest - ä»¥æœ€é•¿çš„ä¸ºå‡†
from itertools import zip_longest

for num, letter in zip_longest(list1, list2, fillvalue="æ— "):
    print(f"{num}: {letter}")

# ============================================================================
# ç¬¬äºŒéƒ¨åˆ†ï¼šwhile å¾ªç¯
# ============================================================================
"""
ã€æ¦‚å¿µè®²è§£ã€‘
while å¾ªç¯åœ¨æ¡ä»¶ä¸º True æ—¶é‡å¤æ‰§è¡Œä»£ç å—ã€‚
éœ€è¦ç¡®ä¿å¾ªç¯æ¡ä»¶æœ€ç»ˆä¼šå˜ä¸º Falseï¼Œå¦åˆ™ä¼šé€ æˆæ— é™å¾ªç¯ã€‚
"""

# ----------------------------------------------------------------------------
# åŸºæœ¬ while å¾ªç¯
# ----------------------------------------------------------------------------

count = 0
while count < 5:
    print(f"è®¡æ•°: {count}")
    count += 1  # åˆ«å¿˜äº†æ›´æ–°æ¡ä»¶ï¼

# ----------------------------------------------------------------------------
# while-else
# ----------------------------------------------------------------------------

# å½“å¾ªç¯æ­£å¸¸ç»“æŸï¼ˆä¸æ˜¯é€šè¿‡ break é€€å‡ºï¼‰æ—¶ï¼Œæ‰§è¡Œ else å—
num = 1
while num <= 5:
    print(num)
    num += 1
else:
    print("å¾ªç¯æ­£å¸¸ç»“æŸ")

# å¦‚æœä½¿ç”¨ break é€€å‡ºï¼Œelse ä¸ä¼šæ‰§è¡Œ
num = 1
while num <= 5:
    if num == 3:
        break
    print(num)
    num += 1
else:
    print("è¿™ä¸ä¼šæ‰§è¡Œ")

# ----------------------------------------------------------------------------
# æ— é™å¾ªç¯ä¸é€€å‡ºæ¡ä»¶
# ----------------------------------------------------------------------------

# æ— é™å¾ªç¯çš„å¸¸è§æ¨¡å¼
# while True:
#     user_input = input("è¾“å…¥ 'quit' é€€å‡º: ")
#     if user_input == "quit":
#         break
#     print(f"ä½ è¾“å…¥äº†: {user_input}")

# ============================================================================
# ç¬¬ä¸‰éƒ¨åˆ†ï¼šå¾ªç¯æ§åˆ¶è¯­å¥
# ============================================================================

# ----------------------------------------------------------------------------
# break - è·³å‡ºå¾ªç¯
# ----------------------------------------------------------------------------

# æ‰¾åˆ°ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´ 
numbers = [1, 3, 5, 7, 9, 2, 4]
target = 2

for num in numbers:
    if num == target:
        print(f"æ‰¾åˆ° {target}!")
        break
    print(f"æ£€æŸ¥ {num}...")

# åµŒå¥—å¾ªç¯ä¸­çš„ break
for i in range(3):
    for j in range(3):
        if i == 1 and j == 1:
            print("è·³å‡ºå†…å±‚å¾ªç¯")
            break
        print(f"i={i}, j={j}")

# ----------------------------------------------------------------------------
# continue - è·³è¿‡æœ¬æ¬¡è¿­ä»£
# ----------------------------------------------------------------------------

# åªæ‰“å°å¶æ•°
for i in range(10):
    if i % 2 != 0:
        continue  # è·³è¿‡å¥‡æ•°
    print(i, end=" ")
print()

# è¿‡æ»¤æ— æ•ˆæ•°æ®
data = [1, None, 2, None, 3, "", 4]
valid_data = []

for item in data:
    if item is None or item == "":
        continue
    valid_data.append(item)

print(f"æœ‰æ•ˆæ•°æ®: {valid_data}")

# ----------------------------------------------------------------------------
# pass - å ä½ç¬¦
# ----------------------------------------------------------------------------

# pass ä»€ä¹ˆéƒ½ä¸åšï¼Œç”¨äºå ä½
for i in range(5):
    if i == 2:
        pass  # TODO: ä»¥åå†å¤„ç†
    print(i)

# å¸¸ç”¨äºå®šä¹‰ç©ºå‡½æ•°æˆ–ç±»
def empty_function():
    pass

# ============================================================================
# ç¬¬å››éƒ¨åˆ†ï¼šå¾ªç¯çš„é«˜çº§ç”¨æ³•
# ============================================================================

# ----------------------------------------------------------------------------
# åˆ—è¡¨æ¨å¯¼å¼
# ----------------------------------------------------------------------------

# ä¼ ç»Ÿæ–¹å¼
squares = []
for i in range(10):
    squares.append(i ** 2)
print(squares)

# åˆ—è¡¨æ¨å¯¼å¼
squares = [i ** 2 for i in range(10)]
print(squares)

# å¸¦æ¡ä»¶
evens = [i for i in range(20) if i % 2 == 0]
print(f"å¶æ•°: {evens}")

# å¸¦è¡¨è¾¾å¼
labels = ["å¶æ•°" if i % 2 == 0 else "å¥‡æ•°" for i in range(5)]
print(labels)

# åµŒå¥—åˆ—è¡¨æ¨å¯¼å¼
matrix = [[i * j for j in range(1, 4)] for i in range(1, 4)]
print(matrix)

# æ‰å¹³åŒ–
flat = [item for row in matrix for item in row]
print(flat)

# ----------------------------------------------------------------------------
# å­—å…¸æ¨å¯¼å¼
# ----------------------------------------------------------------------------

# åˆ›å»ºå¹³æ–¹æ•°å­—å…¸
squares_dict = {i: i ** 2 for i in range(5)}
print(squares_dict)

# ä»ä¸¤ä¸ªåˆ—è¡¨åˆ›å»ºå­—å…¸
keys = ["name", "age", "city"]
values = ["å°æ˜", 20, "åŒ—äº¬"]
student = {k: v for k, v in zip(keys, values)}
print(student)

# è¿‡æ»¤å­—å…¸
scores = {"å°æ˜": 85, "å°çº¢": 92, "å°åˆš": 58, "å°ä¸½": 75}
passed = {name: score for name, score in scores.items() if score >= 60}
print(f"åŠæ ¼å­¦ç”Ÿ: {passed}")

# ----------------------------------------------------------------------------
# é›†åˆæ¨å¯¼å¼
# ----------------------------------------------------------------------------

# æå–å”¯ä¸€å€¼
numbers = [1, 2, 2, 3, 3, 3, 4, 4, 4, 4]
unique = {x for x in numbers}
print(unique)

# è½¬æ¢é•¿åº¦
words = ["hello", "world", "python"]
lengths = {len(word) for word in words}
print(lengths)

# ----------------------------------------------------------------------------
# ç”Ÿæˆå™¨è¡¨è¾¾å¼
# ----------------------------------------------------------------------------

# ç”Ÿæˆå™¨è¡¨è¾¾å¼ï¼ˆä½¿ç”¨åœ†æ‹¬å·ï¼‰
gen = (x ** 2 for x in range(10))
print(gen)  # ç”Ÿæˆå™¨å¯¹è±¡

# æƒ°æ€§æ±‚å€¼ï¼ŒèŠ‚çœå†…å­˜
sum_squares = sum(x ** 2 for x in range(1000000))
print(f"å¹³æ–¹å’Œ: {sum_squares}")

# ============================================================================
# ç¬¬äº”éƒ¨åˆ†ï¼šå¾ªç¯çš„å®é™…åº”ç”¨
# ============================================================================

# ----------------------------------------------------------------------------
# æŸ¥æ‰¾ç®—æ³•
# ----------------------------------------------------------------------------

def linear_search(lst, target):
    """çº¿æ€§æŸ¥æ‰¾"""
    for i, item in enumerate(lst):
        if item == target:
            return i  # è¿”å›ç´¢å¼•
    return -1  # æœªæ‰¾åˆ°

numbers = [4, 2, 7, 1, 9, 5]
print(f"7 çš„ç´¢å¼•: {linear_search(numbers, 7)}")

# ----------------------------------------------------------------------------
# æ’åºç®—æ³•
# ----------------------------------------------------------------------------

def bubble_sort(lst):
    """å†’æ³¡æ’åº"""
    arr = lst.copy()  # ä¸ä¿®æ”¹åŸåˆ—è¡¨
    n = len(arr)
    
    for i in range(n):
        swapped = False
        for j in range(0, n - i - 1):
            if arr[j] > arr[j + 1]:
                arr[j], arr[j + 1] = arr[j + 1], arr[j]
                swapped = True
        if not swapped:  # å¦‚æœæ²¡æœ‰äº¤æ¢ï¼Œè¯´æ˜å·²æ’åº
            break
    
    return arr

numbers = [64, 34, 25, 12, 22, 11, 90]
print(f"æ’åºå‰: {numbers}")
print(f"æ’åºå: {bubble_sort(numbers)}")

# ----------------------------------------------------------------------------
# æ•°æ®å¤„ç†
# ----------------------------------------------------------------------------

# ç»Ÿè®¡è¯é¢‘
text = "hello world hello python world"
words = text.split()
word_count = {}

for word in words:
    if word in word_count:
        word_count[word] += 1
    else:
        word_count[word] = 1

print(f"è¯é¢‘ç»Ÿè®¡: {word_count}")

# ä½¿ç”¨ collections.Counter ç®€åŒ–
from collections import Counter
word_count = Counter(words)
print(f"Counter ç»“æœ: {word_count}")

# ----------------------------------------------------------------------------
# æ¨¡æ‹Ÿå’Œæ¸¸æˆ
# ----------------------------------------------------------------------------

import random

def guess_number():
    """çŒœæ•°å­—æ¸¸æˆ"""
    target = random.randint(1, 100)
    attempts = 0
    
    print("çŒœæ•°å­—æ¸¸æˆï¼ˆ1-100ï¼‰")
    
    while True:
        guess = int(input("è¯·è¾“å…¥ä½ çš„çŒœæµ‹: "))
        attempts += 1
        
        if guess < target:
            print("å¤ªå°äº†ï¼")
        elif guess > target:
            print("å¤ªå¤§äº†ï¼")
        else:
            print(f"æ­å–œï¼ä½ çŒœå¯¹äº†ï¼ç”¨äº† {attempts} æ¬¡")
            break

# guess_number()

# ============================================================================
# ç¬¬å…­éƒ¨åˆ†ï¼šå¾ªç¯çš„æ€§èƒ½ä¼˜åŒ–
# ============================================================================

# ----------------------------------------------------------------------------
# é¿å…åœ¨å¾ªç¯ä¸­è¿›è¡Œé‡å¤è®¡ç®—
# ----------------------------------------------------------------------------

import time

# ä¸æ¨è
lst = list(range(10000))
start = time.time()
for i in range(len(lst)):
    result = len(lst) * i  # len(lst) æ¯æ¬¡éƒ½è®¡ç®—
pass

# æ¨è
start = time.time()
length = len(lst)  # åªè®¡ç®—ä¸€æ¬¡
for i in range(length):
    result = length * i
pass

# ----------------------------------------------------------------------------
# ä½¿ç”¨å†…ç½®å‡½æ•°
# ----------------------------------------------------------------------------

# ä½¿ç”¨ sum() ä»£æ›¿å¾ªç¯æ±‚å’Œ
numbers = list(range(10000))

# å¾ªç¯æ–¹å¼
total = 0
for num in numbers:
    total += num

# å†…ç½®å‡½æ•°
total = sum(numbers)

# ä½¿ç”¨ any() å’Œ all()
numbers = [1, 3, 5, 7, 9]

# æ£€æŸ¥æ˜¯å¦æœ‰å¶æ•°
has_even = any(num % 2 == 0 for num in numbers)
print(f"æœ‰å¶æ•°: {has_even}")

# æ£€æŸ¥æ˜¯å¦éƒ½æ˜¯æ­£æ•°
all_positive = all(num > 0 for num in numbers)
print(f"éƒ½æ˜¯æ­£æ•°: {all_positive}")

# ============================================================================
# ç»ƒä¹ é¢˜
# ============================================================================
"""
ã€ç»ƒä¹ 1ã€‘æ‰“å°å›¾æ¡ˆ
ä½¿ç”¨å¾ªç¯æ‰“å°ä»¥ä¸‹å›¾æ¡ˆï¼š
*
**
***
****
*****

ã€ç»ƒä¹ 2ã€‘ä¹ä¹ä¹˜æ³•è¡¨
ä½¿ç”¨åµŒå¥—å¾ªç¯æ‰“å°ä¹ä¹ä¹˜æ³•è¡¨

ã€ç»ƒä¹ 3ã€‘æ–æ³¢é‚£å¥‘æ•°åˆ—
ç”Ÿæˆæ–æ³¢é‚£å¥‘æ•°åˆ—çš„å‰20é¡¹
1, 1, 2, 3, 5, 8, 13, ...

ã€ç»ƒä¹ 4ã€‘è´¨æ•°åˆ¤æ–­
æ‰¾å‡º100ä»¥å†…çš„æ‰€æœ‰è´¨æ•°

ã€ç»ƒä¹ 5ã€‘åˆ—è¡¨å»é‡
ä¸ä½¿ç”¨ set() å®ç°åˆ—è¡¨å»é‡
"""

# ç»ƒä¹ ç­”æ¡ˆ
print("\n=== ç»ƒä¹ 1 ç­”æ¡ˆ ===")
for i in range(1, 6):
    print("*" * i)

print("\n=== ç»ƒä¹ 2 ç­”æ¡ˆ ===")
for i in range(1, 10):
    for j in range(1, i + 1):
        print(f"{j}Ã—{i}={i*j}", end="\t")
    print()

print("\n=== ç»ƒä¹ 3 ç­”æ¡ˆ ===")
fib = [1, 1]
for i in range(18):
    fib.append(fib[-1] + fib[-2])
print(fib)

print("\n=== ç»ƒä¹ 4 ç­”æ¡ˆ ===")
primes = []
for num in range(2, 101):
    is_prime = True
    for i in range(2, int(num ** 0.5) + 1):
        if num % i == 0:
            is_prime = False
            break
    if is_prime:
        primes.append(num)
print(f"100ä»¥å†…çš„è´¨æ•°: {primes}")

# ============================================================================
# æœ¬èŠ‚å°ç»“
# ============================================================================
"""
âœ… æŒæ¡çš„çŸ¥è¯†ç‚¹ï¼š
1. for å¾ªç¯éå†åºåˆ—
2. while å¾ªç¯çš„æ¡ä»¶æ§åˆ¶
3. range()ã€enumerate()ã€zip() å‡½æ•°
4. breakã€continueã€pass æ§åˆ¶è¯­å¥
5. åˆ—è¡¨/å­—å…¸/é›†åˆæ¨å¯¼å¼
6. ç”Ÿæˆå™¨è¡¨è¾¾å¼
7. å¾ªç¯çš„æ€§èƒ½ä¼˜åŒ–æŠ€å·§

ğŸ”§ PyCharm æŠ€å·§ï¼š
1. æ–­ç‚¹è°ƒè¯•å¾ªç¯ï¼Œè§‚å¯Ÿæ¯æ¬¡è¿­ä»£
2. Conditional Breakpoint - æ¡ä»¶æ–­ç‚¹
3. åœ¨ Debug é¢æ¿æŸ¥çœ‹å˜é‡å˜åŒ–
4. ä½¿ç”¨ Evaluate Expression æµ‹è¯•è¡¨è¾¾å¼

â¡ï¸ ä¸‹ä¸€èŠ‚ï¼šå¼‚å¸¸å¤„ç†
"""

if __name__ == "__main__":
    print("\n" + "=" * 60)
    print("å¾ªç¯è¯­å¥æ¨¡å—å­¦ä¹ å®Œæˆï¼")
    print("=" * 60)
